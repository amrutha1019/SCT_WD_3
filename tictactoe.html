
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Tic Tac Toe</title>
<style>
body{
    display:flex;
    justify-content:center;
    align-items:center;
    height:100vh;
    background:#f2f2f2;
    font-family:Arial;
}
.container{
    text-align:center;
}
.board{
    display:grid;
    grid-template-columns:repeat(3,100px);
    gap:10px;
    margin:20px auto;
}
.cell{
    width:100px;
    height:100px;
    background:#fff;
    font-size:40px;
    display:flex;
    justify-content:center;
    align-items:center;
    cursor:pointer;
    border-radius:8px;
    box-shadow:0 2px 5px rgba(0,0,0,0.2);
}
.cell:hover{
    background:#e0e0e0;
}
button{
    padding:10px 15px;
    font-size:16px;
    cursor:pointer;
}
#status{
    font-size:20px;
    margin-top:10px;
}
</style>
</head>
<body>

<div class="container">
    <h2>Tic Tac Toe</h2>
    <div class="board" id="board"></div>
    <div id="status">Player X's turn</div>
    <br>
    <button onclick="resetGame()">Reset</button>
</div>

<script>
const board = document.getElementById("board");
const statusText = document.getElementById("status");

let gameState = ["","","","","","","","",""];
let currentPlayer = "X";
let gameActive = true;
let playWithComputer = true;

const winConditions = [
    [0,1,2],[3,4,5],[6,7,8],
    [0,3,6],[1,4,7],[2,5,8],
    [0,4,8],[2,4,6]
];

function createBoard(){
    board.innerHTML="";
    gameState.forEach((_,index)=>{
        const cell=document.createElement("div");
        cell.classList.add("cell");
        cell.dataset.index=index;
        cell.addEventListener("click",handleCellClick);
        board.appendChild(cell);
    });
}

function handleCellClick(e){
    const index=e.target.dataset.index;
    if(gameState[index]!=="" || !gameActive) return;

    makeMove(index,currentPlayer);

    if(playWithComputer && gameActive && currentPlayer==="O"){
        setTimeout(computerMove,500);
    }
}

function makeMove(index,player){
    gameState[index]=player;
    document.querySelectorAll(".cell")[index].innerText=player;
    checkResult();
    currentPlayer=currentPlayer==="X"?"O":"X";
    if(gameActive)
        statusText.innerText=`Player ${currentPlayer}'s turn`;
}

function computerMove(){
    let emptyCells=gameState.map((v,i)=>v===""?i:null).filter(v=>v!==null);
    let randomIndex=emptyCells[Math.floor(Math.random()*emptyCells.length)];
    makeMove(randomIndex,"O");
}

function checkResult(){
    for(let condition of winConditions){
        const [a,b,c]=condition;
        if(gameState[a] && gameState[a]===gameState[b] && gameState[a]===gameState[c]){
            statusText.innerText=`Player ${gameState[a]} wins!`;
            gameActive=false;
            return;
        }
    }
    if(!gameState.includes("")){
        statusText.innerText="Draw!";
        gameActive=false;
    }
}

function resetGame(){
    gameState=["","","","","","","","",""];
    currentPlayer="X";
    gameActive=true;
    statusText.innerText="Player X's turn";
    createBoard();
}

createBoard();
</script>

</body>
</html>

